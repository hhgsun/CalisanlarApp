<!-- <p>edit works!</p>
<button (click)="addCalisan()">Ekle</button> -->

<div class="container-fluid my-5">

  <div class="d-flex align-items-start flex-md-row flex-column">

    <div class="nav flex-row flex-md-column nav-pills me-3 mb-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      <button *ngFor="let tab of tabs; let tabIndex = index"
        [class]="'nav-link ' + (tabIndex == activeTabIndex ? 'active' : '')" [id]="'v-pills-'+ tabIndex +'-tab'"
        data-bs-toggle="pill" type="button" role="tab" aria-selected="true" (click)="setTabIndex(tabIndex)">{{
        tab.label }}</button>
    </div>

    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="w-100" style="max-width: 500px;">
      <div class="tab-content" id="v-pills-tabContent">
        <div [class]="'tab-pane ' + (activeTabIndex == 0 ? 'fade show active' : '')" id="v-pills-0" role="tabpanel" aria-labelledby="v-pills-0-tab" tabindex="0">
          <div class="d-md-flex gap-2">
            <div class="form-floating w-100">
              <input id="input-ad" formControlName="ad" type="text" class="form-control mb-3" placeholder="Ad" required>
              <label for="input-ad">Ad *</label>
            </div>
            <div class="form-floating w-100">
              <input id="input-soyad" formControlName="soyad" type="text" class="form-control mb-3" placeholder="Soyad" required>
              <label for="input-soyad">Soyad *</label>
            </div>
          </div>
          <div class="d-md-flex gap-2">
            <div class="form-floating w-100">
              <input id="input-yas" formControlName="yas" type="number" class="form-control mb-3" placeholder="Yaş" required>
              <label for="input-yas">Yaş *</label>
            </div>
            <div class="form-floating w-100">
              <select id="input-cinsiyet" formControlName="cinsiyet" class="form-select mb-3">
                <option value="" selected>Cinsiyet</option>
                <option value="Erkek">Erkek</option>
                <option value="Kadın">Kadın</option>
              </select>
              <label for="input-cinsiyet">Cinsiyet</label>
            </div>
          </div>
          <div class="d-md-flex gap-2">
            <div class="form-floating w-100">
              <input id="input-eposta" formControlName="eposta" type="email" class="form-control mb-3" placeholder="E-Posta" required>
              <label for="input-eposta">E-Posta *</label>
            </div>
            <div class="form-floating w-100">
              <input id="input-telefon" formControlName="telefon" type="tel" class="form-control mb-3" placeholder="Telefon">
              <label for="input-telefon">Telefon</label>
            </div>
          </div>
        </div>

        <div [class]="'tab-pane ' + (activeTabIndex == 1 ? 'fade show active' : '')" id="v-pills-1" role="tabpanel" aria-labelledby="v-pills-1-tab" tabindex="0">
          <div class="form-floating">
            <input id="input-adres" formControlName="adres" type="text" class="form-control mb-3" placeholder="Adres 1" required>
            <label for="input-adres">Adres 1 *</label>
          </div>
          <div class="form-floating">
            <input id="input-adres" formControlName="adres" type="text" class="form-control mb-3" placeholder="Adres 2">
            <label for="input-adres">Adres 2</label>
          </div>
          <div class="d-md-flex gap-2">
            <div class="form-floating w-100">
              <input id="input-ilce" formControlName="ilce" type="text" class="form-control mb-3" placeholder="İlçe" required>
              <label for="input-ilce">İlçe *</label>
            </div>
            <div class="form-floating w-100">
              <input id="input-sehir" formControlName="sehir" type="text" class="form-control mb-3" placeholder="Şehir" required>
              <label for="input-sehir">Şehir *</label>
            </div>
          </div>
        </div>
      </div>
      
      <div class="d-flex">
        <button type="submit" [disabled]="!profileForm.valid" class="btn btn-primary">{{ isEditPage ? 'Kaydet' : 'Yeni Ekle' }}</button>
        <button type="button" *ngIf="isEditPage && editCalisanId > 0" class="btn btn-danger ms-auto" (click)="deleteCalisan()">Kaydı Sil</button>
      </div>
    </form>
  </div>

</div><!-- .container -->